## Apollo Guidance Computer

In 2013, a Super Mario 64 speedrunner was [able to shave precious seconds](https://www.thegamer.com/how-ionizing-particle-outer-space-helped-super-mario-64-speedrunner-save-time/) from his 70-star speedrun when a [cosmic ray](https://www.space.com/32644-cosmic-rays.html) struck his computer's memory, changing Mario's height value from [C5837800 to C4837800](https://hackaday.com/2021/02/17/cosmic-ray-flips-bit-assists-mario-64-speedrunner/), warping Mario up through the level. This is an example of a single-event upset (SEU), a change of state caused by an ionizing particle striking a sensitive micro-electronic component. Studies by IBM in the 1990s found that computers experience approximately one cosmic ray error per 256 megabytes of RAM per month. Based on this calculation, the computer I'm currently using with 16 GB of RAM will experience 64 SEU bit flips this month. The Nintendo 64, on the other hand, with its tiny 4 MB of RAM, would need over 5 years (64 months) before it encountered a SEU event.

Outside the protection of Earth's atmosphere, radiation (including cosmic rays) is more common. [Spacecraft](https://www.scienceabc.com/innovation/what-are-bit-flips-and-how-are-spacecraft-protected-from-them.html) must be specifically designed and hardened for their exposure to radiation. Techniques such as modular redundancy (reading inputs from multiple confirming subsystems) and error correction codes (ECCs) (parity bits) are used to protect the electronic components.

NASA used another approach when designing the Apollo Guidance Computer (AGC) for the Apollo and Gemini missions of the 1960s and 1970s: Core Rope Memory. Programs were stored in ferrite cores connected by wire. Due to the size of the components used, it would not be possible for an ionizing particle to flip a bit. Cosmic radiation alone cannot burn out a wire or change the magnetism of a core.

![AGC Core Rope Memory](/assets/images/agc_rope.jpg)  
(Image from [here](https://en.wikipedia.org/wiki/Core_rope_memory))

The core rope memory was woven by women by hand in a process that took 3 months. A great description can be found [here](https://www.amusingplanet.com/2020/02/that-time-when-computer-memory-was.html). Core rope memory had a [storage density](https://en.wikipedia.org/wiki/Core_rope_memory) of 72 KB per cubic foot (or 2.5 MB per cubic meter). Which is much larger than the magnetic-core RAM at 4 KB per cubic foot (or 140 KB per cubic meter).

![Core Rope Memory Weaving](/assets/images/core-memory-weaving.jpg)  
(Image from [here](https://www.amusingplanet.com/2020/02/that-time-when-computer-memory-was.html))

Core rope memory is so resilient that program data is still intact in these modules today. (Compare that with [other](https://www.sqlskills.com/blogs/jonathan/bitten-by-ssd-bit-rot/) [digital](https://www.zdnet.com/article/tech-guide-storage-media-lifespans/) [media](https://www.arcserve.com/blog/data-storage-lifespans-how-long-will-media-really-last) [formats](https://digitalpreservation.lib.byu.edu/wp-content/uploads/2015/11/iPres_poster_2015_resubmit2-Erickson_Lunt.pdf).) CuriousMarc has a [video](https://youtu.be/hckwxq8rnr0) showing the process Mike Stewart is using to read core rope memory modules using modern hardware. There's a great story at this [timestamp](https://youtu.be/hckwxq8rnr0?t=669) where Mike explains the process that was used to fix a bug in the Apollo 11 program code one month prior to launch. You can find CuriousMarc's full series on the restoration of the Apollo Guidance Computer and progress towards retrieving as many of the programs as possible [here](https://www.youtube.com/watch?v=2KSahAoOLdU&list=PL-_93BVApb59FWrLZfdlisi_x7-Ut_-w7). Fascinating stuff.

I'll also take this opportunity to call out the [great write-up](https://arstechnica.com/science/2020/01/a-deep-dive-into-the-apollo-guidance-computer-and-the-hack-that-saved-apollo-14/) Arstechnica did on the Apollo Guidance Computer back in 2020. It's easy to dismiss the AGC given its tiny memory size and its horsepower being on the level of a modern calculator. But the AGC had many capabilities that we think of as quite modern, such as multi-tasking, interpreter-driven virtual machines, and remote data updates. I dare say modern developers wouldn't know where to begin in order to fit these features into such a limited memory footprint. The Arstechnica article also details some accounts of how the AGC handled errors, with its ability to pause and restart programs without losing its memory state being a key feature. Worth checking out.
